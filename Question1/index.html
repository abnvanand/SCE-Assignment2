<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Editor</title>
    <!--<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"-->
    <!--integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">-->

    <style>
        body {
            background: white;
        }

        .button {
            background: #ececec;
            width: 127px;
            height: 38px;
            box-shadow: 0 0 1px #000000;
            border: 0 solid;
        }

        #autorun-label {
            padding: 10px;
        }

        #header {
            padding: 15px;
            height: 37px;
            top: 0;
            left: 0;
            right: 0;
            position: absolute;
        }

        #content {
            height: 80%;
            position: absolute;
            padding-top: 10px;
            top: 75px;
            right: 0;
            bottom: 0;
            left: 0;
        }

        #left_pane, #right_pane {
            width: 48%;
            margin: 10px;
            height: 100%;
        }

        #left_pane {
            float: left;
        }

        #right_pane {
            float: right;
        }

        textarea#code {
            width: 100%;
            height: 99%;
            resize: none;
        }

    </style>
</head>
<body>
<div id="header">
    <button onclick="clear_code()" class="button">Clear Code area</button>
    <button onclick="run_code()" class="button">Run code</button>
    <button onclick="clear_output()" class="button">Clear display pane</button>
    <label for="autorun" id="autorun-label" class="button">
        <input type="checkbox" id="autorun">
        Enable auto run
    </label>
</div>
<div id="content">
    <div id="left_pane">

        <label>
            Enter code here
            <textarea id="code"
                      placeholder="Type code here"
                      onkeyup="auto_run()"
            ></textarea>
        </label>
    </div>

    <!--IFRAME to display output-->
    <div id="right_pane">
        <label>
            Output
            <iframe id="output"
                    width="100%" height="100%">
            </iframe>
        </label>
    </div>
</div>
<script>
    function clear_code() {
        document.getElementById("code").innerText = "";
        document.getElementById("code").value = "";
    }

    function run_code() {
        var iframe_doc = document.getElementById("output").contentDocument;

        iframe_doc.open();
        iframe_doc.write(document.getElementById("code").value);
        iframe_doc.close();
    }

    function clear_output() {
        var iframe_doc = document.getElementById("output").contentDocument;

        iframe_doc.open();
        iframe_doc.write("");
        iframe_doc.close();
    }

    function auto_run() {
        let is_checked = document.getElementById("autorun").checked;
        if (is_checked)
            run_code();
    }
</script>
</body>
</html>